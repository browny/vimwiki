<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<link rel="Stylesheet" type="text/css" href="style.css">
<title>XMPP stanzas xml packet</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<!-- Bootstrap -->
<link href="http://pancake.io/6daab7/bootstrap.min.css" rel="stylesheet"
media="screen" type='text/css'>


<link href='http://pancake.io/6daab7/google-code-prettify/prettify.css' rel='stylesheet' type='text/css'/>
<script language='javascript' src='http://pancake.io/6daab7/google-code-prettify/prettify.js' type='text/javascript'/>
<script type='text/javascript'>
document.addEventListener(&#39;DOMContentLoaded&#39;,function() { prettyPrint();});
</script>


<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.4.4/jquery.min.js"></script>
<script type="text/javascript" src="http://6daab7.pancakeapps.com/jquery.stoc.js"></script>
<script type="text/javascript">
	$(function(){
		$("#items").stoc({
			search: "#container"
		});
	});
</script>
<style type="text/css">
	#items {
		position: fixed;
		top: 5%;
		right: 5%;
		float: right;
		width: 220px;
		padding: 5px;
		margin:0 0 0px 0px;
		/* rgba with ie compatibility */
		background-color: transparent;
		background-color: rgba(255,255,255,0.4);
		filter:progid:DXImageTransform.Microsoft.gradient(startColorstr=#20ffffff,endColorstr=#20ffffff);
		-ms-filter: "progid:DXImageTransform.Microsoft.gradient(startColorstr=#20ffffff,endColorstr=#20ffffff)";
	}
	#items ul {
		margin: 0 0 0 10px;
		padding: 0 0 3px;
		list-style-type: none;
	}
	#items ul ul {
		font-size: 85%;
	}
	#items ul a {
		font-family: "arial";
		text-decoration: none;
		color: #c10000;
	}
	#items ul a:hover { color: #ff0000 }
</style>

</head>
<body onload='prettyPrint()'>
<div id="container">
<div id="items">
</div>
	

<h3 id="toc_0.0.1">XMPP stanzas xml packet</h3>

<p>
Linux 可以使用 Pidgin 開啟 XMPP Console 套件, Mac 上 Adium 也有開啟
XMPP Console 的設定方法: <a href="https://trac.adium.im/wiki/HiddenPreferences">https://trac.adium.im/wiki/HiddenPreferences</a> ,
先關閉 Adium 然後下 <code>defaults write com.adiumx.Adiumx AMXMPPShowAdvanced -bool YES</code> 再開啟, File &gt; 個人帳號 &gt; XML Console
</p>

<ul>
<li>
註冊
<pre class='prettyprint'>
&lt;iq from="dev.fanzy.tv/afec012" id="6M20Y-1" to="dev.fanzy.tv" type="set"&gt;
    &lt;query xmlns="jabber:iq:register"&gt;
        &lt;username&gt;user1&lt;/username&gt;
        &lt;email/&gt;
        &lt;name/&gt;
        &lt;password&gt;password&lt;/password&gt;
    &lt;/query&gt;
&lt;/iq&gt;
</pre>

</ul>


<ul>
<li>
取得線上總人數
<pre class='prettyprint'>
&lt;iq from='admin@dev.fanzy.tv'
    id='get-online-users-num-1'
    to='dev.fanzy.tv'
    type='set'
    xml:lang='en'&gt;
  &lt;command xmlns='http://jabber.org/protocol/commands' 
           action='execute'
           node='http://jabber.org/protocol/admin#get-online-users-num'/&gt;
&lt;/iq&gt;
</pre>

</ul>


<ul>
<li>
進入聊天室
<pre class='prettyprint'>
&lt;presence from="admin@dev.fanzy.tv" to="room18@conference.dev.fanzy.tv/admin"&gt;
    &lt;priority&gt;1&lt;/priority&gt;
    &lt;x xmlns="http://jabber.org/protocol/muc"/&gt;
&lt;/presence&gt;
</pre>

</ul>


<ul>
<li>
離開聊天室
<pre class='prettyprint'>
&lt;presence from="admin@dev.fanzy.tv"
    to="room18@conference.dev.fanzy.tv/admin" type="unavailable"/&gt;
</pre>

</ul>


<ul>
<li>
邀請別人進聊天室
<pre class='prettyprint'>
&lt;message from="admin@dev.fanzy.tv" to="room18@conference.dev.fanzy.tv"&gt;
    &lt;x xmlns="http://jabber.org/protocol/muc#user"&gt;
        &lt;invite to="fanxina@dev.fanzy.tv"/&gt;
    &lt;/x&gt;
&lt;/message&gt;
</pre>

</ul>

<ul>
<li>
在聊天室發言
<pre class='prettyprint'>
&lt;message from="admin@dev.fanzy.tv/6bfeaebe" id="purple96008234"
    to="room18@conference.dev.fanzy.tv" type="groupchat"&gt;
    &lt;body&gt;Hello&lt;/body&gt;
&lt;/message&gt;
</pre>

</ul>

<ul>
<li>
取得某聊天室資訊
<pre class='prettyprint'>
&lt;iq from="admin@dev.fanzy.tv/Smack" id="v44WV-5"
    to="room18@conference.dev.fanzy.tv" type="get"&gt;
    &lt;query xmlns="http://jabber.org/protocol/disco#info"/&gt;
&lt;/iq&gt;
</pre>

</ul>

<ul>
<li>
取得公開聊天室列表
<pre class='prettyprint'>
&lt;iq from="admin@dev.fanzy.tv/Smack" id="I5sOz-5"
    to="conference.dev.fanzy.tv" type="get"&gt;
    &lt;query xmlns="http://jabber.org/protocol/disco#items"/&gt;
&lt;/iq&gt;
</pre>

</ul>

</div>
</body>
</html>
